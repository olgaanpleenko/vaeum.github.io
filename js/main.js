function modern_upbutton_resize(){var o=$(window).width();o>=1007?($(".modern-upbutton").css("width",(o-860)/2),smallscreen=!1):o>=955?($(".modern-upbutton").addClass("its-a-mobile-modern-upbutton"),smallscreen=!1):(smallscreen=!0,$(".modern-upbutton").hide())}function modern_upbutton_click_scrollup(){return $(".modern-upbutton").attr("data-pos",$(window).scrollTop()),$("body,html").animate({scrollTop:0},500),setTimeout(function(){$(".modern-upbutton").attr("data-scroll","down")},501),!1}function modern_upbutton_click_scrolldown(){return pos_to_scroll=$(".modern-upbutton").attr("data-pos"),$(".modern-upbutton").attr("data-pos",0),$("body,html").animate({scrollTop:pos_to_scroll},500),setTimeout(function(){$(".modern-upbutton").attr("data-scroll","up")},501),!1}function modern_upbutton_disable(){var o=new Date((new Date).getTime()+864e5);document.cookie="modern_upbutton_disable_by_user=1; path=/; expires="+o.toUTCString(),$(".modern-upbutton").addClass("modern-upbutton-was-disabled")}function getCookie(o){var t=document.cookie.match(new RegExp("(?:^|; )"+o.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function modern_upbutton_check_for_disable(){void 0!=getCookie("modern_upbutton_disable_by_user")&&($(".modern-upbutton").addClass("modern-upbutton-was-disabled"),window.modern_upbutton_was_killed=!0)}var Share={vk:function(o,t,n,e){url="http://vkontakte.ru/share.php?",url+="url="+encodeURIComponent(o),url+="&title="+encodeURIComponent(t),url+="&description="+encodeURIComponent(e),url+="&image="+encodeURIComponent(n),url+="&noparse=true",Share.popup(url)},ok:function(o,t){url="http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1",url+="&st.comments="+encodeURIComponent(t),url+="&st._surl="+encodeURIComponent(o),Share.popup(url)},fb:function(o,t,n,e){url="http://www.facebook.com/sharer.php?s=100",url+="&p[title]="+encodeURIComponent(t),url+="&p[summary]="+encodeURIComponent(e),url+="&p[url]="+encodeURIComponent(o),url+="&p[images][0]="+encodeURIComponent(n),Share.popup(url)},tw:function(o,t){url="http://twitter.com/share?",url+="text="+encodeURIComponent(t),url+="&url="+encodeURIComponent(o),url+="&counturl="+encodeURIComponent(o),Share.popup(url)},mailru:function(o,t,n,e){url="http://connect.mail.ru/share?",url+="url="+encodeURIComponent(o),url+="&title="+encodeURIComponent(t),url+="&description="+encodeURIComponent(e),url+="&imageurl="+encodeURIComponent(n),Share.popup(url)},li:function(o,t,n){url="http://www.linkedin.com/shareArticle?mini=true",url+="&url="+encodeURIComponent(o),url+="&title="+encodeURIComponent(t),url+="&summary="+encodeURIComponent(n),Share.popup(url)},popup:function(o){window.open(o,"","toolbar=0,status=0,width=626,height=436")}};$(function(){var o=document.querySelectorAll("img");Array.prototype.forEach.call(o,function(o,t){o.setAttribute("onerror","this.src='/images/notfound.jpg'")})}),$(window).resize(function(){modern_upbutton_resize()}),$(window).scroll(function(){0==smallscreen&&1!=window.modern_upbutton_was_killed&&($(window).scrollTop()>=300?($(".modern-upbutton").attr("data-scroll","up"),$(".modern-upbutton").fadeIn(300)):"0"==$(".modern-upbutton").attr("data-pos")&&"up"==$(".modern-upbutton").attr("data-scroll")&&$(".modern-upbutton").fadeOut(300))}),$(function(){modern_upbutton_check_for_disable(),modern_upbutton_resize(),$(".modern-upbutton").bind("click touch ontouchstart",function(o){$(event.target).closest(".modern-upbutton-disable").length||("up"==$(this).attr("data-scroll")?modern_upbutton_click_scrollup():modern_upbutton_click_scrolldown(),event.stopPropagation())}),$(".modern-upbutton-disable").click(function(){modern_upbutton_disable()})});